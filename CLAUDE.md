# SixSevenOS

A web-based operating system for kids, inspired by Windows XP. Built with vanilla JS, Vite, and WebSockets for multiplayer functionality.

## Quick Start

```bash
# Start the app (client + server)
bun run dev

# For AI features, also run Ollama
ollama serve
```

App runs at **http://localhost:7676/**

## Architecture

```
client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ apps/           # Applications (extend BaseApp)
â”‚   â”‚   â”œâ”€â”€ kids-portal/  # Kids Only Portal (main focus)
â”‚   â”‚   â”œâ”€â”€ notepad/
â”‚   â”‚   â”œâ”€â”€ winamp/
â”‚   â”‚   â””â”€â”€ system/
â”‚   â”œâ”€â”€ os/             # OS components (Desktop, Window, Taskbar)
â”‚   â”œâ”€â”€ multiplayer/    # Cursor sync, remote cursors
â”‚   â””â”€â”€ styles/
server/
â”œâ”€â”€ index.js            # WebSocket (6767) + HTTP API (6768)
â”œâ”€â”€ api/
â”‚   â””â”€â”€ ollama.js       # Ollama proxy with kid-safe filtering
â””â”€â”€ rooms/              # Multiplayer room management
```

## Key Patterns

### Creating a New App

1. Create class extending `BaseApp` in `client/src/apps/[name]/`
2. Export app definition with `id`, `title`, `icon`, `defaultWidth`, `defaultHeight`, `create()`
3. Register in `main.js`: `this.appRegistry.register('app_id', AppDefinition)`
4. Add desktop icon in `Desktop.js`

### Custom Window Styling (like Winamp)

```javascript
// In init():
this.window.element.classList.add('my-custom-window')

// In CSS:
.xp-window.my-custom-window .xp-titlebar { display: none; }
```

---

## Kids Only Portal

90s AOL-inspired kid-friendly hub with personalized interest zones.

### Zones

| Zone | Icon | Description |
|------|------|-------------|
| Fly Zone | ğŸš | Drones & aviation |
| Robot Lab | ğŸ¤– | Robotics & coding |
| Sports Arena | âš½ | Soccer & sports |
| **Kid Biz** | ğŸ’° | Business empire game (main feature) |
| Art Studio | ğŸ¨ | Drawing & creativity |
| Play Zone | ğŸ® | Games & puzzles |
| Maker Space | ğŸ”§ | Building & tinkering |
| AI Helper | âœ¨ | Buddy Bot chat (Ollama) |
| My Stuff | â­ | Saved favorites |

### AI Integration

- **Buddy Bot** (AI Helper): Uses `llama3.2` for kid-friendly Q&A
- **Agent Generation** (Kid Biz): Uses `gemma3:1b` for unique agent personalities
- All AI responses filtered for kid-safety

---

## Kid Biz Empire

Turn-based strategy game where kids manage AI agents that produce real digital products.

### Current Features

- **Hex map** with stations (Art, Writing, Shirts, Games)
- **Agent squad** with AI-generated personalities via Gemma 3
- **Turn-based production**: Assign agents â†’ Start projects â†’ Complete over turns
- **Orders system**: Accept/reject customer requests
- **Economy**: Gold, leveling, station unlocks

### Agent Properties (Generated by Gemma 3)

```javascript
{
  name: "Sparky",
  nickname: "The Colorful Spark",
  personality: "Bubbly, energetic, loves bright colors",
  quirk: "Creates tiny rainbows when excited",
  trait: { name: "Creative Burst", effect: "+5 Poster Points" },
  dialogue: { happy, okay, sad, working, complete },
  likes: ["Colorful Paper", "Stickers"],
  ascii_face: "ğŸ˜Š"
}
```

### API Endpoints

- `POST /api/ollama/chat` - Buddy Bot conversation
- `POST /api/agent/generate` - Generate new agent personality
- `POST /api/agent/dialogue` - Dynamic agent dialogue

---

## Goals & Roadmap

### Vision

A gamified production studio where kids command AI agent teams to create actual sellable digital products - learning entrepreneurship through play.

### Phase 1: Core Game (Current)
- [x] Kids Only Portal with 90s AOL aesthetic
- [x] Kid Biz Empire basic gameplay
- [x] Gemma 3 agent personality generation
- [x] Turn-based production system
- [ ] Save/load game state
- [ ] More product types

### Phase 2: Real Product Output
- [ ] Agents actually generate images (art, posters) via AI
- [ ] Agents write actual content (stories, joke books)
- [ ] Preview and approve generated products
- [ ] Export products as files (PNG, PDF)

### Phase 3: Civ-Style Strategy
- [ ] Larger hex map with territory expansion
- [ ] Research tree (unlock new product types)
- [ ] Agent specializations and skill trees
- [ ] Competing "empires" (multiplayer)
- [ ] Resource management (Ideas, Energy, Materials)

### Phase 4: E-commerce Integration
- [ ] Connect to print-on-demand services
- [ ] Actual storefront for selling products
- [ ] Revenue tracking for kids
- [ ] Parent dashboard for oversight

### Future Ideas (from ideas.md)
- Multi-agent team orchestration disguised as Civ-5 style game
- Agents produce: art prints, ebooks, t-shirt designs, birthday cards, guides
- Gamified production factory for real e-commerce store
- Custom terminal based on ghosttylib (overpowered for kids)

---

## Tech Stack

- **Frontend**: Vanilla JS, Vite, TailwindCSS
- **Backend**: Node.js, WebSocket (ws)
- **AI**: Ollama (local), Gemma 3 (agents), Llama 3.2 (chat)
- **Package Manager**: Bun

## Commands

```bash
bun run dev          # Start client + server
bun run build        # Production build
bun run test         # Run tests
bun run test:run     # Run tests once
```

## Ports

- `7676` - Vite dev server (client)
- `6767` - WebSocket server (multiplayer)
- `6768` - HTTP API server (Ollama proxy)
- `11434` - Ollama (must be running separately)

## Required Ollama Models

```bash
ollama pull llama3.2    # For Buddy Bot chat
ollama pull gemma3:1b   # For agent personality generation
```
