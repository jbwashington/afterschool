<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Town Builders Council</title>
  <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body class="bg-gray-900 text-white overflow-hidden">
  <!-- Game Container -->
  <div id="game-container" class="w-full h-screen relative">
    <!-- Three.js Canvas -->
    <div id="three-canvas" class="w-full h-full"></div>

    <!-- UI Overlay -->
    <div id="ui-overlay" class="absolute inset-0 pointer-events-none">
      <!-- Header -->
      <header class="p-4 flex justify-between items-start pointer-events-auto">
        <div id="game-info" class="bg-black/50 rounded-lg p-3">
          <h1 class="text-xl font-bold">ğŸ˜ï¸ Town Builders Council</h1>
          <p id="turn-info" class="text-sm text-gray-300">Build your world!</p>
        </div>
        <div id="player-info" class="bg-black/50 rounded-lg p-3 text-right">
          <p id="player-role" class="text-sm">-</p>
          <p id="player-count" class="text-xs text-gray-400">Players: 0/2</p>
        </div>
      </header>

      <!-- Card Selection Area (for turn-based mode) -->
      <div id="card-area" class="absolute bottom-0 left-0 right-0 p-4 hidden">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-center text-lg mb-3" id="phase-instruction">Choose a card:</h2>
          <div id="cards-container" class="flex justify-center gap-4 flex-wrap pointer-events-auto">
          </div>
        </div>
      </div>

      <!-- Waiting/Status Messages -->
      <div id="status-message" class="absolute inset-0 flex items-center justify-center hidden">
        <div class="bg-black/70 rounded-xl p-8 text-center max-w-md">
          <p id="status-text" class="text-2xl mb-4">Waiting for another player...</p>
          <p id="status-subtext" class="text-gray-400">Share this link with a friend!</p>
        </div>
      </div>

      <!-- Reflection Prompt -->
      <div id="reflection-area" class="absolute inset-0 flex items-center justify-center hidden">
        <div class="bg-black/70 rounded-xl p-8 text-center max-w-md">
          <p id="reflection-prompt" class="text-xl mb-4"></p>
          <div class="animate-pulse text-gray-400">Next turn starting soon...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Join Modal -->
  <div id="join-modal" class="fixed inset-0 bg-black/80 flex items-center justify-center z-50">
    <div class="bg-gray-800 rounded-xl p-8 max-w-lg w-full mx-4 text-center">
      <h1 class="text-4xl font-bold mb-2">ğŸ˜ï¸ Town Builders</h1>
      <p class="text-gray-400 mb-8 text-lg">Build your own 3D world!</p>

      <div class="space-y-6">
        <!-- Start Building Button -->
        <button id="btn-new-room" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 py-4 px-6 rounded-xl font-bold text-xl transition-all transform hover:scale-105">
          ğŸ¨ Start Building!
        </button>

        <!-- Join existing room -->
        <div class="pt-4 border-t border-gray-700">
          <p class="text-gray-500 mb-3">Join a friend's world:</p>
          <div class="flex gap-2">
            <input id="room-code-input" type="text" placeholder="Room code"
              class="flex-1 bg-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-center uppercase tracking-widest text-lg">
            <button id="btn-join-room" class="bg-green-600 hover:bg-green-700 py-3 px-6 rounded-lg font-medium transition-colors">
              Join
            </button>
          </div>
        </div>
      </div>

      <!-- Mode info -->
      <p class="mt-6 text-gray-500 text-sm">
        âœ¨ Click buttons to add things â€¢ ğŸŒˆ Change the sky â€¢ ğŸ± Add creatures
      </p>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
